{% set blockId = random() %}

{% set arError = Registration.getErrorMessage %}
{% set arForm = Registration.getOldFormData %}

<dialog 
  class="fixed top-1/2 -translate-y-1/2 backdrop:bg-black/100 w-full max-w-xs md:max-w-md max-h-3/4 rounded-md invisible open:visible opacity-0 open:opacity-100 transition-all duration-300 ease-in z-50"
  open
>
  <div class="font-nunito font-semibold text-lg text-center mt-2 mb-4">
    <p>Регистрация</p>
  </div>
  <div>
    {{ form_open({ 
        request: 'Registration::onAjax', 
        url: 'registration'|page, 
        class: 'flex flex-col items-center' 
      }) 
    }}
      {% 
        partial 'components/form/form_group' 
        type="text"
        id="name-" ~ blockId
        placeholder="Имя"
        name="name" ~ blockId
        value=arForm.name
        label="Имя"
      %}

      {% 
        partial 'components/form/form_group' 
        type="email"
        id="email-" ~ blockId
        placeholder="Email"
        name="email"
        value=arForm.email
        label="Email"
      %}

      {% 
        partial 'components/form/form_group' 
        type="password"
        id="password-" ~ blockId
        placeholder="Пароль"
        name="password"
        label="Пароль"
      %}

      {% 
        partial 'components/form/form_group' 
        type="password"
        id="password_confirmation-" ~ blockId
        placeholder="Повторите пароль"
        name="password_confirmation"
        label="Повторите пароль"
      %}
      <button type="submit" class="btn mt-2 mb-4">Зарегистрироваться</button>
  {{ form_close() }}
  {% if arError.message is not empty %}
      <p>{{ arError.message }}</p>
  {% endif %}
  </div>
  
  <div>

  </div>
</dialog>